<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>FIFA World Cup 2026 ‚Äì Playoffs</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:"Segoe UI",Arial,sans-serif;
  background:radial-gradient(circle at top,#0b1d2a,#020b12);
  color:#fff;
}

/* HEADER */
header{
  text-align:center;
  padding:22px;
  font-size:30px;
  font-weight:800;
  background:linear-gradient(90deg,#0f2027,#203a43,#2c5364);
}

/* LAYOUT */
.section{
  max-width:1200px;
  margin:40px auto;
  padding:0 15px;
}

.round-title{
  text-align:center;
  font-size:24px;
  font-weight:700;
  margin-bottom:20px;
  opacity:.95;
}

/* MATCH GRID */
.matches{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:18px;
}

.match{
  background:rgba(255,255,255,0.05);
  border-radius:14px;
  box-shadow:0 6px 20px rgba(0,0,0,.6);
  overflow:hidden;
}

.team{
  padding:14px 16px;
  cursor:pointer;
  transition:.25s;
  border-bottom:1px solid rgba(255,255,255,.08);
}

.team:last-child{
  border-bottom:none;
}

.team:hover{
  background:rgba(0,255,153,.18);
}

.team.selected{
  background:linear-gradient(90deg,#1b5e20,#2e7d32);
  font-weight:700;
}

/* NEXT BUTTON */
.next-btn{
  display:block;
  margin:35px auto;
  padding:16px 46px;
  font-size:18px;
  border:none;
  border-radius:40px;
  background:#00e5a8;
  cursor:pointer;
  font-weight:700;
  box-shadow:0 6px 20px rgba(0,0,0,.5);
}

.next-btn:disabled{
  background:#555;
  cursor:not-allowed;
}

/* WINNER */
.winner{
  text-align:center;
  margin:60px 0;
}

.trophy{
  font-size:70px;
}

.winner-name{
  font-size:34px;
  font-weight:800;
  margin-top:10px;
}
</style>
</head>

<body>

<header>FIFA World Cup 2026 ‚Äì Playoffs</header>

<div class="section" id="playoffs"></div>

<script>
/* LOAD GROUP DATA */
const groupData = JSON.parse(localStorage.getItem("wc2026_groups"));

if(!groupData){
  document.getElementById("playoffs").innerHTML =
    "<h2 style='text-align:center'>Group data not found</h2>";
  throw new Error("No group data");
}

/* BUILD 32 TEAMS */
const first = [];
const second = [];
const third = [];

Object.values(groupData).forEach(g=>{
  first.push(g[0]);
  second.push(g[1]);
  third.push(g[2]);
});

const teams32 = [...first, ...second, ...third]; // 12+12+8 = 32

/* GENERIC KNOCKOUT BUILDER */
function buildRound(title, teams, onComplete){
  const section = document.createElement("div");
  section.className="section";

  const h = document.createElement("div");
  h.className="round-title";
  h.textContent=title;
  section.appendChild(h);

  const grid = document.createElement("div");
  grid.className="matches";

  const winners = [];

  for(let i=0;i<teams.length;i+=2){
    const match = document.createElement("div");
    match.className="match";

    const t1 = document.createElement("div");
    t1.className="team";
    t1.textContent = teams[i];

    const t2 = document.createElement("div");
    t2.className="team";
    t2.textContent = teams[i+1];

    t1.onclick = ()=>{
      t1.classList.add("selected");
      t2.classList.remove("selected");
      winners[i/2] = teams[i];
      check();
    };

    t2.onclick = ()=>{
      t2.classList.add("selected");
      t1.classList.remove("selected");
      winners[i/2] = teams[i+1];
      check();
    };

    match.appendChild(t1);
    match.appendChild(t2);
    grid.appendChild(match);
  }

  section.appendChild(grid);

  const btn = document.createElement("button");
  btn.className="next-btn";
  btn.textContent="Proceed";
  btn.disabled=true;

  btn.onclick = ()=> onComplete(winners);

  section.appendChild(btn);
  document.getElementById("playoffs").appendChild(section);

  function check(){
    if(winners.filter(Boolean).length === teams.length/2){
      btn.disabled=false;
    }
  }
}

/* BUILD ALL ROUNDS */
buildRound("Round of 32", teams32, r16=>{
  buildRound("Round of 16", r16, qf=>{
    buildRound("Quarterfinals", qf, sf=>{
      buildRound("Semifinals", sf, final=>{
        showWinner(final);
      });
    });
  });
});

/* FINAL WINNER */
function showWinner(finalTeams){
  const section = document.createElement("div");
  section.className="winner";

  const trophy = document.createElement("div");
  trophy.className="trophy";
  trophy.textContent="üèÜ";

  const name = document.createElement("div");
  name.className="winner-name";
  name.textContent = "Winner: " + finalTeams[0];

  section.appendChild(trophy);
  section.appendChild(name);
  document.getElementById("playoffs").appendChild(section);
}
</script>

</body>
</html>

