<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WC 2026 ‚Äì Round of 32</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#0b0b0b;
  color:#fff;
  padding:20px;
}
h1{
  text-align:center;
  color:#00ff99;
  margin-bottom:30px;
}
.bracket{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:20px;
}
.match{
  background:#111;
  padding:15px;
  border-radius:12px;
}
.team{
  background:#222;
  padding:12px;
  border-radius:8px;
  margin:8px 0;
  text-align:center;
  cursor:pointer;
}
.team.winner{
  background:#00ff99;
  color:#000;
  font-weight:bold;
}
#nextBtn{
  display:block;
  margin:40px auto 0;
  padding:15px 40px;
  font-size:18px;
  border:none;
  border-radius:30px;
  background:#00ff99;
  color:#000;
  cursor:pointer;
}
</style>
</head>

<body>

<h1>üèÜ FIFA World Cup 2026 ‚Äì Round of 32</h1>

<div class="bracket" id="bracket"></div>

<button id="nextBtn">Proceed to Round of 16 ‚ûú</button>

<script>
/* ===== LOAD GROUP DATA ===== */
const groupData = JSON.parse(localStorage.getItem("wc2026_groups"));

if(!groupData){
  alert("No group data found!");
}

/* ===== GET QUALIFIED TEAMS ===== */
let qualified = [];

// 1st & 2nd from all groups
Object.values(groupData).forEach(g=>{
  qualified.push(g.first);
  qualified.push(g.second);
});

// 8 third-place teams
Object.values(groupData).forEach(g=>{
  if(g.third) qualified.push(g.third);
});

// Ensure 32 teams
qualified = qualified.slice(0,32);

/* ===== CREATE MATCHES ===== */
const bracket = document.getElementById("bracket");
let winners = [];

for(let i=0;i<qualified.length;i+=2){
  const match=document.createElement("div");
  match.className="match";

  const t1=document.createElement("div");
  t1.className="team";
  t1.innerText=qualified[i];

  const t2=document.createElement("div");
  t2.className="team";
  t2.innerText=qualified[i+1];

  t1.onclick=()=>selectWinner(t1,t2);
  t2.onclick=()=>selectWinner(t2,t1);

  match.appendChild(t1);
  match.appendChild(t2);
  bracket.appendChild(match);
}

/* ===== SELECT WINNER ===== */
function selectWinner(win,lose){
  win.classList.add("winner");
  lose.classList.remove("winner");

  const match = win.parentElement;
  const teams = match.querySelectorAll(".team");

  teams.forEach(t=>{
    if(t!==win) t.classList.remove("winner");
  });
}

/* ===== NEXT BUTTON ===== */
document.getElementById("nextBtn").onclick=()=>{
  winners=[];
  document.querySelectorAll(".winner").forEach(w=>{
    winners.push(w.innerText);
  });

  if(winners.length!==16){
    alert("Please select winners for all matches.");
    return;
  }

  localStorage.setItem("wc2026_r32",JSON.stringify(winners));
  alert("Round of 16 coming next üî•");
  // window.location.href="round16.html"; (next step)
};
</script>

</body>
</html>
