<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>FIFA World Cup 2026 ‚Äì Knockouts</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:"Segoe UI",Arial,sans-serif;
  background:radial-gradient(circle at top,#0b1d2a,#020b12);
  color:#fff;
}
header{
  text-align:center;
  padding:22px;
  font-size:28px;
  font-weight:800;
  background:linear-gradient(90deg,#0f2027,#203a43,#2c5364);
}
.section{
  max-width:1200px;
  margin:30px auto;
  padding:0 15px;
}
.round-title{
  text-align:center;
  font-size:22px;
  margin:25px 0 15px;
  font-weight:700;
}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:20px;
}
.match{
  background:rgba(255,255,255,.06);
  border-radius:14px;
  overflow:hidden;
}
.team{
  padding:14px;
  cursor:pointer;
  transition:.25s;
}
.team:hover{background:rgba(0,255,153,.2);}
.team.selected{
  background:linear-gradient(90deg,#00c853,#64dd17);
  color:#000;
  font-weight:800;
}
.vs{
  text-align:center;
  font-size:13px;
  opacity:.6;
}
.winner-card{
  margin-top:40px;
  text-align:center;
  padding:30px;
  border-radius:20px;
  background:linear-gradient(135deg,#ffd700,#ffb300);
  color:#000;
  font-size:26px;
  font-weight:900;
  display:none;
}
</style>
</head>

<body>

<header>FIFA World Cup 2026 ‚Äì Knockouts</header>

<div class="section">

  <div class="round-title">Quarter-finals</div>
  <div class="grid" id="qf"></div>

  <div class="round-title">Semi-finals</div>
  <div class="grid" id="sf"></div>

  <div class="round-title">Final</div>
  <div class="grid" id="final"></div>

  <div class="winner-card" id="winnerCard">
    üèÜ World Cup 2026 Winner  
    <div id="winnerName"></div>
  </div>
</div>

<script>
const r16 = JSON.parse(localStorage.getItem("wc2026_r16"));
if(!r16 || r16.length!==8){
  alert("Round of 16 not completed");
  window.location.href="round16.html";
}

// ‚úÖ Quarter-finals official pairs
const qfMatches = [
  r16[0], r16[3], // QF1
  r16[1], r16[2], // QF2
  r16[4], r16[5], // QF3
  r16[6], r16[7]  // QF4
];

let qfWinners=[], sfWinners=[], finalWinners=[];

// Generic round builder
function buildRound(containerId, matches, winnersArray, nextContainerId, nextArray){
  const container = document.getElementById(containerId);
  container.innerHTML = "";

  for(let i=0;i<matches.length;i+=2){
    const match = document.createElement("div");
    match.className="match";

    const t1 = document.createElement("div");
    const t2 = document.createElement("div");
    const vs = document.createElement("div");
    t1.className=t2.className="team";
    vs.className="vs"; vs.textContent="VS";
    t1.textContent=matches[i];
    t2.textContent=matches[i+1];

    t1.onclick=()=>pickWinner(t1,t2,matches[i],winnersArray,nextContainerId,nextArray);
    t2.onclick=()=>pickWinner(t2,t1,matches[i+1],winnersArray,nextContainerId,nextArray);

    match.append(t1,vs,t2);
    container.appendChild(match);
  }
}

function pickWinner(sel,other,team,winnersArray,nextContainer,nextArray){
  if(sel.classList.contains("selected")) return;
  sel.classList.add("selected");
  other.classList.remove("selected");

  winnersArray.push(team);

  if(nextContainer && winnersArray.length === winnersArray.capacity || winnersArray.length === winnersArray.capacity){
    // Build next round
    if(nextArray){
      buildRound(nextContainer,nextArray, nextContainer==="sf"? sfWinners: finalWinners, nextContainer==="sf"?"final":null, nextContainer==="sf"? finalWinners: null);
    }
  }

  if(winnersArray===qfWinners && qfWinners.length===4){
    buildRound("sf", qfWinners, sfWinners, "final", finalWinners);
  }
  if(sfWinners.length===2){
    buildRound("final", sfWinners, finalWinners, null, null);
  }
  if(finalWinners.length===1){
    document.getElementById("winnerCard").style.display="block";
    document.getElementById("winnerName").textContent=finalWinners[0];
  }
}

// Start Quarter-finals
buildRound("qf", qfMatches, qfWinners, "sf", null);

</script>

</body>
</html>

